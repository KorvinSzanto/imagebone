{"version":3,"file":"imagebone.min.js","sources":["imagebone.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"global","Imagebone","window","./lib/main.js",2,"module","extend","init","image","width","height","my_image","Image","me","this","set","x","y","onload","initializeCanvas","src","Context","document","createElement","get","getContext","getGivenImage","getImage","getWidth","getHeight","devicePixelRatio","canvas_width","getCanvasWidth","canvas_height","getCanvasHeight","changed","getPassedWidth","getPassedHeight","resizeCanvas","addEventListener","handleMouseMove","apply","arguments","handleMouseUp","getCanvas","handleMouseDown","parentNode","replaceChild","renderSize","render","getPadding","getRatio","style","clearCanvas","canvas","context","setFillColor","fillRect","drawBackground","drawImage","drawForeground","redraw","colored","block_width","block_height","block_size","Math","ceil","ctx","getOffset","drawBottomSize","drawRightSize","drawDragHandle","text_width","width_text","font","textBaseline","textAlign","measureText","setLineWidth","setStrokeColor","moveTo","addLine","addMove","lineTo","stroke","fillText","height_text","restore","save","translate","rotate","PI","old_width","old_height","normalizeEvent","pageX","clientX","body","scrollLeft","documentElement","pageY","clientY","scrollTop","getImageDragging","getDraggerDragging","setOffset","getOffsetStart","getDragStart","getSizeStart","butter_zone","offsetLeft","offsetTop","size","cursor","getImageHovered","getDraggerHovered","./Class.js","./Context.js",3,"attr","key","value","split","map","substr","toUpperCase","toLowerCase","fn","join","./extend.js",4,"applyToContext","method","args","scale","adjust","scaledArguments","Array","prototype","slice","color","strokeStyle","fillStyle","line_width","lineWidth","getX","getY","text","shift","concat","strokeText",5,"protoProps","staticProps","getKeys","obj","Object","keys","hasOwnProperty","push","each","iterator","len","source","prop","child","parent","constructor","Surrogate","__super__",6,"img","HTMLCollection","imagebones","undefined","Canvas","./Canvas.js"],"mappings":"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"}